{% load static %}


    <div class="form-container">
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group">
                <label>Código:</label>
                <input type="text" name="codigo" disabled>
            </div>
            
            <div class="form-group">
                <label>Nombre:</label>
                <input type="text" name="nombre" required>
            </div>
            
            <div class="form-group">
                <label>Descripción:</label>
                <textarea rows="3" name="descripcion" required></textarea>
            </div>
            
            <div class="form-group">
                <label>Cantidad de productos:</label>
                <input type="number" name="existencia" required>
            </div>
            
            <div class="form-group">
                <label>Número de puntos:</label>
                <input type="number" name="pumapuntos" required>
            </div>
            
            <div class="form-group">
                <label>Días de uso:</label>
                <input type="number" name="dias_renta" required>
            </div>
            
            <div class="form-group">
                <label>Imagen del producto:</label>
                <div class="file-input-container">
                    <input type="file" name="imagen" accept="image/*" id="actual-input" class="hidden-input" style="display: none;" required>
                    <button type="button" class="btn btn-upload" id="custom-button">Examinar archivos</button>
                    <span id="file-chosen">No se ha seleccionado ningún archivo</span>
                </div>
            </div>
            
            <div class="button-group">
                <button type="submit" class="btn btn-cancel" onclick="window.location.href='{% url 'inicio' %}'">Cancelar</button>
                <button type="submit" class="btn btn-add">Agregar producto</button>
            </div>

            <script>
                const actualInput = document.getElementById('actual-input');
                const customButton = document.getElementById('custom-button');
                const fileChosen = document.getElementById('file-chosen');
            
                customButton.addEventListener('click', function() {
                    actualInput.click();
                });
            
                actualInput.addEventListener('change', function() {
                    if (actualInput.value) {
                        fileChosen.textContent = actualInput.value.split('\\').pop();
                    } else {
                        fileChosen.textContent = 'No se ha seleccionado ningún archivo';
                    }
                });
            </script>

        </form>

        {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <div class="alert">{{ message }}</div>
            {% endfor %}
        </div>
    {% endif %}
    </div>
